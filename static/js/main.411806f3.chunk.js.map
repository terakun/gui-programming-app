{"version":3,"sources":["opcomponent/opcomponent.js","opcomponent/start.js","opcomponent/end.js","opcomponent/stop.js","opcomponent/wheel.js","opcomponent/waitmsecs.js","opcomponent/branchdistsensor.js","opcomponent/linesensor.js","opcomponent/readability.js","line.js","graph.js","index.js"],"names":["OpComponent","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","is_invalid","number","setCompFrom","funcs","setCompTo","addOpObj","assertThisInitialized","boxstyle","width","height","left","top","padding","color","background","position","textAlign","borderRadius","WebkitUserSelect","topstyle","marginLeft","border","right","margin","bottomstyle","bottom","setState","rect","ReactDOM","findDOMNode","refs","getBoundingClientRect","x","y","_this2","undefined","react_default","a","createElement","style","display","react_draggable_default","bounds","cancel","onStart","onStartDrag","onStop","onStopDrag","renderOpComp","React","Component","Start","objectSpread","textstyle","className","panel_default","ref","onMouseDown","End","onMouseUp","Stop","Wheel","wheel","direction","power","setOpComponentAttribute","getAttribute","e","target","value","attr","running","name","defaultValue","onChange","setWheel","bind","setDirection","setPower","Waitmsecs","time","console","log","setTime","BranchDistSensor","dist","selected_above","abovedstnode","belowdstnode","setBranch","bottomleftstyle","bottomrightstyle","id","below","above","setDist","LineSensor","isright","setIsright","Readability","backgroundColor","Line","_this$props","x1","x2","y1","y2","thickness","length","Math","sqrt","cx","cy","angle","atan2","PI","lineHeight","MozTransform","concat","WebkitTransform","OTransform","msTransform","transform","Graph","edges","start_node","end_node","nodes","attributes","nodes_num","component","push","from","to","idx","findIndex","node","splice","deletelist","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","_ref3","_ref2","slicedToArray","deleteEdge","err","return","stack","visited","Array","fill","pop","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","next_node","TrashBox","App","mouseX","mouseY","clickFrom","clickTo","isMouseDown","graph","toppositions","bottompositions","sensordata","dragcomp","currentnode","timercount","interval","sendinterval","carstate","forward","pwm","linesensor_threshold","swaplinesensor","isrunning","dragComp","opobj","connection","WebSocket","onopen","onOpen","onmessage","onMessage","runProgram","stepProgram","stopProgram","sendOperation","_onMouseMove","obj","event","setInterval","sensorarray","data","split","map","parseInt","node_name","new_toppositions","assign","new_bottompositions","addComponent","setOpCompPosition","clientX","clientY","getTopPosition","isBranchComp","getBottomAbovePosition","getBottomBelowPosition","getBottomPosition","comp","addEdge","checkConnectStartToEnd","alert","leftstate","rightstate","send","left_speed","right_speed","toString","nextedge","nextnode","clearInterval","dir_power","rect_trash","trashbox","compX","compY","new_graph","node_from","edge","node_to","disable","deleteEdges","setAttribute","_this3","index","start_Start","key","end_End","wheel_Wheel","waitmsecs_Waitmsecs","branchdistsensor_BranchDistSensor","linesensor_LineSensor","stop_Stop","readability_Readability","_this4","pos1","pos2","line_Line","id1","id2","slice","checked","_this5","_this$state","distsensordata","leftsensordata","rightsensordata","leftspeed","rightspeed","setPWMRightValue","setPWMLeftValue","type","swapLineSensor","start","JSON","stringify","_this6","selectedcomppos","_this$state2","onMouseMove","button_default","onClick","renderEdges","renderOpComponents","src_TrashBox","variant","disabled","renderDebugWindow","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.411806f3.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom'\nimport Draggable from 'react-draggable';\n\nexport default class OpComponent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            is_invalid: false,\n        };\n\n        this.number = this.props.number;\n\n        this.setCompFrom = props.funcs.setCompFrom;\n        this.setCompTo = props.funcs.setCompTo;\n\n        props.funcs.addOpObj(this);\n\n        this.boxstyle = {\n            width: 100,\n            height: 60,\n            left: 500,\n            top: 200,\n            padding: \"0 16px\",\n            color: \"#000\",\n            background: \"#fff\",\n            position: \"absolute\",\n            textAlign: \"center\",\n            borderRadius: 4,\n            WebkitUserSelect: \"none\",\n        };\n\n        this.topstyle = {\n            marginLeft: \"auto\",\n            borderRadius: 4,\n            border: \"solid\",\n            color: \"#f2df6b\",\n            background: \"#f2df6b\",\n            position: \"absolute\",\n            top: 0,\n            left:0,\n            right:0,\n            margin:\"auto\",\n        };\n\n        this.bottomstyle = {\n            marginLeft: \"auto\",\n            borderRadius: 4,\n            border: \"solid\",\n            color: \"#e174bb\",\n            background: \"#e174bb\",\n            position: \"absolute\",\n            bottom: 0,\n            left:0,\n            right:0,\n            margin:\"auto\",\n        };\n    }\n\n    disable(){\n        this.setState({\n            is_invalid:true,\n        });\n    }\n\n    getTopPosition() {\n        let rect = ReactDOM.findDOMNode(this.refs.top).getBoundingClientRect();\n        let compX = rect.x + rect.width / 2;\n        let compY = rect.y + rect.height / 2;\n        return [compX,compY]\n    }\n\n    getBottomPosition() {\n        let rect = ReactDOM.findDOMNode(this.refs.bottom).getBoundingClientRect();\n        let compX = rect.x + rect.width / 2;\n        let compY = rect.y + rect.height / 2;\n        return [compX,compY]\n    }\n\n    renderOpComp() {\n        return ;\n    }\n\n    render(){\n        if (this.props.x !== undefined) {\n            this.boxstyle.left = this.props.x;\n            this.boxstyle.top = this.props.y;\n        }\n\n        if(this.state.is_invalid){\n            return (\n                <div style={{display:\"none\"}}></div>\n            );\n        }else{\n            return (\n                <Draggable bounds=\"parent\" cancel=\"strong\" onStart={() => { this.props.funcs.onStartDrag(this); }} onStop={() => { this.props.funcs.onStopDrag(this); }}>\n                    {this.renderOpComp()}\n                </Draggable >\n            );\n        }\n    }\n}\n\n","import React from 'react';\nimport OpComponent from './opcomponent'\nimport Panel from 'muicss/lib/react/panel';\n\nexport default class Start extends OpComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...this.state,\n        };\n        this.boxstyle.height = 50;\n        this.boxstyle.left = 20;\n        this.boxstyle.top = 10;\n        this.boxstyle.position = \"absolute\";\n\n        this.bottomstyle = {\n            ...this.bottomstyle,\n            width: 100,\n            height: 10,\n        };\n\n        this.textstyle = {\n            textAlign: \"center\",\n            position: \"relative\",\n            top: \"30%\",\n        };\n    }\n\n    getTopPosition() {\n        return [0,0];\n    }\n\n    render() {\n        return (\n            <strong className=\"no-cursor\">\n                <Panel style={this.boxstyle} className=\"box\">\n                    <div style={this.textstyle}>\n                        スタート\n                    </div>\n                    <div ref='bottom' style={this.bottomstyle}\n                        onMouseDown={() => {\n                            this.setCompFrom(this);\n                        }}>\n                    </div>\n                </Panel>\n            </strong>\n        );\n    }\n}","import React from 'react';\nimport OpComponent from './opcomponent'\nimport Panel from 'muicss/lib/react/panel';\n\nexport default class End extends OpComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...this.state,\n        };\n\n        this.boxstyle.position = \"absolute\";\n        this.boxstyle.height = 50;\n        this.boxstyle.left = 1050;\n        this.boxstyle.top = 500;\n\n        this.topstyle = {\n            ...this.topstyle,\n            width: 100,\n            height: 10,\n        };\n\n        this.textstyle = {\n            position: \"relative\",\n            textAlign: \"center\",\n            top: \"30%\",\n        };\n\n    }\n\n    getBottomPosition() {\n        return [0,0];\n    }\n\n\n    renderOpComp() {\n        return (\n            <strong className=\"no-cursor\">\n\n                <Panel style={this.boxstyle} className=\"box\">\n                    <div ref='top' style={this.topstyle} onMouseUp={() => {\n                        this.setCompTo(this);\n                    }}></div>\n                    <div style={this.textstyle}>\n                        エンド\n                    </div>\n                </Panel>\n            </strong>\n        );\n    }\n}","import React from 'react';\nimport OpComponent from './opcomponent';\nimport Panel from 'muicss/lib/react/panel';\n\nexport default class Stop extends OpComponent {\n    constructor(props) {\n        super(props);\n        this.state = {...this.state};\n\n        this.topstyle = {\n            ...this.topstyle,\n            width: 100,\n            height: 10,\n            border: \"solid\",\n        };\n\n        this.textstyle = {\n            position: \"relative\",\n            textAlign: \"center\",\n            top: \"30%\",\n        };\n\n        this.bottomstyle = {\n            ...this.bottomstyle,\n            width: 100,\n            height: 10,\n            border: \"solid\",\n        };\n    }\n\n    renderOpComp() {\n        return (\n            <Panel style={this.boxstyle} className=\"box\">\n                <strong className=\"no-cursor\">\n                    <div ref='top' style={this.topstyle} onMouseUp={() => {\n                        this.setCompTo(this);\n                    }}></div>\n                </strong>\n                <div style={this.textstyle}>\n                    ストップ\n                </div>\n                <strong className=\"no-cursor\">\n                    <div ref='bottom' style={this.bottomstyle} onMouseDown={() => {\n                        this.setCompFrom(this);\n                    }}></div>\n                </strong>\n            </Panel>\n        );\n    }\n}\n\n\n","import React from 'react';\nimport OpComponent from './opcomponent'\nimport Panel from 'muicss/lib/react/panel';\n\nexport default class Wheel extends OpComponent {\n  constructor(props){\n    super(props);\n    this.state = {\n      ...this.state,\n      wheel: 0,\n      direction: 0,\n      power: 0,\n    };\n    this.props.funcs.setOpComponentAttribute(this.number,this.getAttribute());\n    this.boxstyle.width = 180;\n\n      this.topstyle = {\n          ...this.topstyle,\n          width: 70,\n          height: 10,\n      };\n\n    this.textstyle = {\n      position: \"relative\",\n      textAlign: \"center\",\n      top: 20,\n    };\n\n      this.bottomstyle = {\n          ...this.bottomstyle,\n          width: 70,\n          height: 10,\n      };\n  }\n\n  getAttribute() {\n    return {\n      wheel: this.state.wheel,\n      direction: this.state.direction,\n      power: this.state.power,\n    }\n  }\n\n  setWheel(e) {\n    this.setState({ wheel: e.target.value, });\n    let attr = this.getAttribute();\n    attr.wheel = e.target.value;\n    this.props.funcs.setOpComponentAttribute(this.number,attr);\n  }\n  setDirection(e) {\n    this.setState({ direction: e.target.value, });\n    let attr = this.getAttribute();\n    attr.direction = e.target.value;\n    this.props.funcs.setOpComponentAttribute(this.number,attr);\n  }\n  setPower(e) {\n    this.setState({ power: e.target.value, });\n    let attr = this.getAttribute();\n    attr.power = e.target.value;\n    this.props.funcs.setOpComponentAttribute(this.number,attr);\n  }\n\n  renderOpComp() {\n    if(this.props.running){\n      this.boxstyle.background = \"#00f\";\n    } else {\n      this.boxstyle.background = \"#fff\";\n    }\n\n\n\n    return (\n        <Panel style={this.boxstyle} className=\"box\">\n          <strong className=\"no-cursor\">\n          <div ref='top' style={this.topstyle} onMouseUp={() => {this.setCompTo(this);}}></div>\n          </strong>\n          <div style={this.textstyle}>\n            <select name=\"wheel\" defaultValue={0} onChange={this.setWheel.bind(this)}>\n            <option value={0}>左</option>\n            <option value={1}>右</option>\n            </select>\n            タイヤを\n            <select name=\"direction\" defaultValue={0} onChange={this.setDirection.bind(this)}>\n            <option value={0}>前</option>\n            <option value={1}>後</option>\n            </select>\n            に\n            <select name=\"power\" defaultValue={0} onChange={this.setPower.bind(this)}>\n            <option value={3}>強</option>\n            <option value={2}>中</option>\n            <option value={1}>弱</option>\n            <option value={0}>止</option>\n            </select>\n          </div>\n          <strong className=\"no-cursor\">\n          <div ref='bottom' style={this.bottomstyle} onMouseDown={() => {this.setCompFrom(this);}}></div>\n          </strong>\n        </Panel>\n    );\n  }\n}\n\n\n","import React from 'react';\nimport OpComponent from './opcomponent'\nimport Panel from 'muicss/lib/react/panel';\n\nexport default class Waitmsecs extends OpComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...this.state,\n            time: 0,\n        };\n\n        this.topstyle = {\n            ...this.topstyle,\n            width: 70,\n            height: 10,\n        };\n\n        this.textstyle = {\n            position: \"relative\",\n            textAlign: \"center\",\n            top: \"30%\",\n        };\n\n        this.bottomstyle = {\n            ...this.bottomstyle,\n            width: 70,\n            height: 10\n        };\n\n        this.boxstyle.height = 60;\n        this.props.funcs.setOpComponentAttribute(this.number, {time: this.state.time});\n    }\n\n    setTime(e) {\n        this.setState({time: e.target.value,});\n        console.log(e.target.value);\n        this.props.funcs.setOpComponentAttribute(this.number, {time: e.target.value});\n    }\n\n    renderOpComp() {\n        if (this.props.running) {\n            this.boxstyle.background = \"#00f\";\n        } else {\n            this.boxstyle.background = \"#fff\";\n        }\n\n        return (\n            <Panel style={this.boxstyle} className=\"box\">\n                <strong className=\"no-cursor\">\n                    <div ref='top' style={this.topstyle} onMouseDown={() => {\n                        this.setCompFrom(this);\n                    }} onMouseUp={() => {\n                        this.setCompTo(this);\n                    }}></div>\n                </strong>\n                <div style={this.textstyle}>\n                    <strong className=\"no-cursor\">\n                        <input style={{width: 40,}} onChange={this.setTime.bind(this)}/>\n                    </strong>\n                    ms 待つ\n                </div>\n                <strong className=\"no-cursor\">\n                    <div ref='bottom' style={this.bottomstyle} onMouseDown={() => {\n                        this.setCompFrom(this);\n                    }} onMouseUp={() => {\n                        this.setCompTo(this);\n                    }}></div>\n                </strong>\n            </Panel>\n        );\n    }\n}\n\n","import React from 'react';\nimport OpComponent from './opcomponent'\nimport Panel from 'muicss/lib/react/panel';\n\nexport default class BranchDistSensor extends OpComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...this.state,\n            dist: 0,\n        };\n        this.selected_above = false;\n        this.abovedstnode = null;\n        this.belowdstnode = null;\n\n        this.props.funcs.setOpComponentAttribute(this.number, {dist: this.state.dist});\n        this.setBranch = this.setBranch.bind(this);\n\n        this.boxstyle.width = 160;\n        this.boxstyle.height = 65;\n        this.topstyle = {\n            ...this.topstyle,\n            width: 70,\n            height: 10,\n        };\n\n        this.textstyle = {\n            position: \"relative\",\n            textAlign: \"center\",\n            top: \"30%\",\n        };\n\n        this.bottomleftstyle = {\n            ...this.bottomstyle,\n            width: 60,\n            height: 20,\n            border: \"none\",\n            color: \"#fff\",\n            left: 0,\n            right: \"auto\",\n            borderRadius: 2,\n        };\n\n        this.bottomrightstyle = {\n            ...this.bottomstyle,\n            width: 60,\n            height: 20,\n            border: \"none\",\n            color: \"#fff\",\n            left: \"auto\",\n            right: 0,\n            borderRadius: 2,\n        };\n\n    }\n\n    setDist(e) {\n        this.setState({dist: e.target.value,});\n        this.props.funcs.setOpComponentAttribute(this.number, {dist: e.target.value});\n    }\n\n    setBranch(id) {\n        if (this.selected_above) {\n            this.abovedstnode = id;\n            console.log(\"above:\" + id);\n        } else {\n            this.belowdstnode = id;\n            console.log(\"below:\" + id);\n        }\n        this.selected_above = false;\n    }\n\n    getBottomBelowPosition() {\n        let rect = this.refs.below.getBoundingClientRect();\n        let compX = rect.x + rect.width / 2;\n        let compY = rect.y + rect.height / 2;\n        return [compX, compY]\n    }\n\n    getBottomAbovePosition() {\n        let rect = this.refs.above.getBoundingClientRect();\n        let compX = rect.x + rect.width / 2;\n        let compY = rect.y + rect.height / 2;\n        return [compX, compY]\n    }\n\n    renderOpComp() {\n        if (this.props.running) {\n            this.boxstyle.background = \"#0f0\";\n        } else {\n            this.boxstyle.background = \"#fff\";\n        }\n\n        return (\n            <Panel style={this.boxstyle} className=\"box\">\n                <strong className=\"no-cursor\">\n                    <div ref='top' style={this.topstyle} onMouseUp={() => {\n                        this.setCompTo(this);\n                    }}></div>\n                </strong>\n                <div style={this.textstyle}>\n                    距離センサーが\n                    <strong className=\"no-cursor\">\n                        <input style={{width: 40}} value={this.state.dist} onChange={this.setDist.bind(this)}/>\n                    </strong>\n                    cm\n                </div>\n                <strong className=\"no-cursor\">\n                    <div ref='above' style={this.bottomleftstyle} onMouseDown={() => {\n                        this.selected_above = true;\n                        this.setCompFrom(this);\n                    }}>以上\n                    </div>\n                </strong>\n                <strong className=\"no-cursor\">\n                    <div ref='below' style={this.bottomrightstyle} onMouseDown={() => {\n                        this.selected_above = false;\n                        this.setCompFrom(this);\n                    }}>以下\n                    </div>\n                </strong>\n            </Panel>\n        );\n    }\n}\n\n","import React from 'react';\nimport OpComponent from './opcomponent'\nimport Panel from 'muicss/lib/react/panel';\n\nexport default class LineSensor extends OpComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...this.state,\n            isright: 0,\n        };\n        this.selected_above = false;\n        this.abovedstnode = null;\n        this.belowdstnode = null;\n\n        this.props.funcs.setOpComponentAttribute(this.number, {dist: this.state.dist});\n        this.setBranch = this.setBranch.bind(this);\n\n        this.boxstyle.width = 160;\n        this.boxstyle.height = 65;\n        this.topstyle = {\n            ...this.topstyle,\n            width: 160,\n            height: 10,\n        };\n\n        this.textstyle = {\n            position: \"relative\",\n            textAlign: \"center\",\n            top: \"30%\",\n        };\n\n        this.bottomleftstyle = {\n            ...this.bottomstyle,\n            width: 60,\n            height: 20,\n            border: \"none\",\n            color: \"#fff\",\n            left: 0,\n            right: \"auto\",\n            borderRadius: 2,\n        };\n\n        this.bottomrightstyle = {\n            ...this.bottomstyle,\n            width: 60,\n            height: 20,\n            border: \"none\",\n            color: \"#fff\",\n            left: \"auto\",\n            right: 0,\n            borderRadius: 2,\n        };\n\n    }\n\n    setIsright(e) {\n        this.setState({isright: e.target.value,});\n        this.props.funcs.setOpComponentAttribute(this.number, {isright: e.target.value});\n    }\n\n    setBranch(id) {\n        if (this.selected_above) {\n            this.abovedstnode = id;\n            console.log(\"above:\" + id);\n        } else {\n            this.belowdstnode = id;\n            console.log(\"below:\" + id);\n        }\n        this.selected_above = false;\n    }\n\n    getBottomBelowPosition() {\n        let rect = this.refs.below.getBoundingClientRect();\n        let compX = rect.x + rect.width / 2;\n        let compY = rect.y + rect.height / 2;\n        return [compX, compY]\n    }\n\n    getBottomAbovePosition() {\n        let rect = this.refs.above.getBoundingClientRect();\n        let compX = rect.x + rect.width / 2;\n        let compY = rect.y + rect.height / 2;\n        return [compX, compY]\n    }\n\n    renderOpComp() {\n        if (this.props.running) {\n            this.boxstyle.background = \"#0f0\";\n        } else {\n            this.boxstyle.background = \"#fff\";\n        }\n\n        return (\n            <Panel style={this.boxstyle} className=\"box\">\n                <strong className=\"no-cursor\">\n                    <div ref='top' style={this.topstyle} onMouseUp={() => {\n                        this.setCompTo(this);\n                    }}></div>\n                </strong>\n                <div style={this.textstyle}>\n                    <select name=\"isright\" defaultValue={true} onChange={this.setIsright.bind(this)}>\n                        <option value={false}>左</option>\n                        <option value={true}>右</option>\n                    </select>\n                    のセンサーが\n                </div>\n                <strong className=\"no-cursor\">\n                    <div ref='above' style={this.bottomleftstyle} onMouseDown={() => {\n                        this.selected_above = true;\n                        this.setCompFrom(this);\n                    }}>暗い\n                    </div>\n                </strong>\n                <strong className=\"no-cursor\">\n                    <div ref='below' style={this.bottomrightstyle} onMouseDown={() => {\n                        this.selected_above = false;\n                        this.setCompFrom(this);\n                    }}>明るい\n                    </div>\n                </strong>\n            </Panel>\n        );\n    }\n}\n\n","import React, {Component} from \"react\";\nimport OpComponent from './opcomponent'\nimport ReactDOM from 'react-dom'\nimport Panel from 'muicss/lib/react/panel';\n\nexport default class Readability extends OpComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...this.state,\n        };\n        // override style\n        this.boxstyle = {\n            ...this.boxstyle,\n            width: 20,\n            height: 60,\n            padding: 0\n        };\n\n        this.topstyle = {\n            marginLeft: \"auto\",\n            width: 20,\n            height: 20,\n            borderRadius: \"50%\",\n            background: \"#f2df6b\",\n            border: \"none\",\n            backgroundColor: \"#f2df6b\",\n            position: \"absolute\",\n            bottom: 0,\n            left: 0,\n            right: 0,\n            margin: \"auto\",\n        };\n        this.bottomstyle = {\n            marginLeft: \"auto\",\n            width: 20,\n            height: 20,\n            borderRadius: \"50%\",\n            background: \"#e174bb\",\n            border: \"none\",\n            backgroundColor: \"#e174bb\",\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            right: 0,\n            margin: \"auto\",\n        };\n        this.props.funcs.setOpComponentAttribute(this.number, null);\n    }\n\n    renderOpComp() {\n        if (this.props.running) {\n            this.boxstyle.background = \"#00f\";\n        } else {\n            this.boxstyle.background = \"#fff\";\n        }\n        return (\n            <Panel style={this.boxstyle} className=\"box\">\n                <strong className=\"no-cursor\">\n                    <div ref='bottom' style={this.bottomstyle} onMouseDown={() => {\n                        this.setCompFrom(this);\n                    }}></div>\n                    <div ref='top' style={this.topstyle} onMouseUp={() => {\n                        this.setCompTo(this);\n                    }}></div>\n                </strong>\n            </Panel>\n        );\n    }\n}","import React from 'react';\nimport Panel from 'muicss/lib/react/panel';\n\nexport default class Line extends React.Component {\n    render() {\n        const {x1, x2, y1, y2, thickness, color} = this.props;\n\n        const length = Math.sqrt(((x2 - x1) * (x2 - x1)) + ((y2 - y1) * (y2 - y1)));\n        const cx = ((x1 + x2) / 2) - (length / 2);\n        const cy = ((y1 + y2) / 2) - (thickness / 2);\n        const angle = Math.atan2((y1 - y2), (x1 - x2)) * (180 / Math.PI);\n\n        const style = {\n            padding: 0,\n            margin: 0,\n            backgroundColor: \"#000000\",\n            lineHeight: 1,\n            position: \"absolute\",\n            left: cx,\n            top: cy,\n            width: length,\n            height: 3,\n            MozTransform: `rotate(${angle}deg)`,\n            WebkitTransform: `rotate(${angle}deg)`,\n            OTransform: `rotate(${angle}deg)`,\n            msTransform: `rotate(${angle}deg)`,\n            transform: `rotate(${angle}deg)`,\n        };\n        return (\n            <Panel style={style}/>\n        );\n    }\n}\n\n\n","// プログラムを表現するクラス\nexport default class Graph {\n  constructor() {\n    this.edges = [[],[]];\n    this.start_node = 0;\n    this.end_node = 1;\n    this.nodes = [\"Start\", \"End\"];\n    this.attributes = [{}, {}];\n    this.nodes_num = this.edges.length;\n  }\n\n  addComponent(component) {\n    this.edges.push([]);\n    this.nodes.push(component);\n    this.attributes.push({});\n    this.nodes_num++;\n    return this;\n  }\n\n  deleteEdge(from,to) {\n    const idx = this.edges[from].findIndex(node => node === to);\n    this.edges[from].splice(idx,1);\n    return this;\n  }\n\n  deleteEdges(deletelist) {\n    for(let [from,to] of deletelist){\n      this.deleteEdge(from,to);\n    }\n    return this;\n  }\n\n  setAttribute(id, attr) {\n    this.attributes[id] = attr;\n    return this;\n  }\n\n  checkConnectStartToEnd() {\n    let node = this.start_node;\n    let stack = [node];\n    let visited = new Array(this.nodes_num).fill(false);\n\n    while (stack.length > 0) {\n      let node = stack.pop();\n      visited[node] = true;\n      console.log(this.nodes[node]);\n      if (node !== this.end_node) {\n        if (((this.nodes[node] === \"BranchDistSensor\" || this.nodes[node] === \"LineSensor\" ) && this.edges[node].length < 2) ||\n          ((this.nodes[node] !== \"BranchDistSensor\" && this.nodes[node] !== \"LineSensor\") && this.edges[node].length === 0)) {\n          return false;\n        }\n      }\n      for (let next_node of this.edges[node]) {\n        if (!visited[next_node]) stack.push(next_node);\n      }\n    }\n    return true;\n  }\n\n  addEdge(from, to) {\n    console.log(from);\n    console.log(to);\n    this.edges[from].push(to);\n    return this;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Button from 'muicss/lib/react/button';\nimport Panel from 'muicss/lib/react/panel';\n\nimport Start from './opcomponent/start';\nimport End from './opcomponent/end';\nimport Stop from './opcomponent/stop';\nimport Wheel from './opcomponent/wheel';\nimport Waitmsecs from './opcomponent/waitmsecs';\nimport BranchDistSensor from './opcomponent/branchdistsensor';\nimport LineSensor from './opcomponent/linesensor';\nimport Readability from \"./opcomponent/readability\";\n\nimport Line from './line'\nimport Graph from './graph'\n\nclass TrashBox extends React.Component {\n    constructor(props){\n        super(props);\n        this.boxstyle = {\n            width: 100,\n            height: 60,\n            left: 40,\n            top: 470,\n            color: \"#fff\",\n            background: \"#333\",\n            position: \"absolute\",\n            textAlign: \"center\",\n            borderRadius: 4,\n            WebkitUserSelect: \"none\",\n        };\n    }\n    render() {\n        return (\n            <Panel style={this.boxstyle}>\n                ゴミ箱\n            </Panel>\n        );\n    }\n}\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            mouseX: 0,\n            mouseY: 0,\n            clickFrom: -1,\n            clickTo: 0,\n            isMouseDown: false,\n            graph: new Graph(),\n            toppositions: [[0, 0], [0, 0]],\n            bottompositions: [[0, 0], [0, 0]],\n            sensordata: {\n                dist: 0,\n                left: 0,\n                right: 0,\n            },\n            dragcomp: 0,\n            currentnode: 0,\n            timercount: 0,\n            interval: null,\n            sendinterval: null,\n            carstate: {\n                left: {\n                    forward: true,\n                    power: 0,\n                },\n                right: {\n                    forward: true,\n                    power: 0,\n                }\n            },\n            pwm: {\n                left: [0, 150, 200, 255],\n                right: [0, 150, 200, 255],\n            },\n            linesensor_threshold: 512,\n            swaplinesensor: false,\n            isrunning: false,\n        };\n\n        // 動かしている最中のオブジェクトnumber\n        this.dragComp = -1;\n\n        this.opobj = [];\n\n        this.connection = new WebSocket(\"ws:127.0.0.1:8000\");\n        this.connection.onopen = this.onOpen.bind(this);\n        this.connection.onmessage = this.onMessage.bind(this);\n\n        this.runProgram = this.runProgram.bind(this);\n        this.stepProgram = this.stepProgram.bind(this);\n        this.stopProgram = this.stopProgram.bind(this);\n\n        this.sendOperation = this.sendOperation.bind(this);\n\n        this._onMouseMove = this._onMouseMove.bind(this);\n        this.funcs = {\n            setCompFrom: this.setCompFrom.bind(this),\n            setCompTo: this.setCompTo.bind(this),\n            setOpComponentAttribute: this.setOpComponentAttribute.bind(this),\n            addOpObj: this.addOpObj.bind(this),\n            onStartDrag: this.onStartDrag.bind(this),\n            onStopDrag: this.onStopDrag.bind(this),\n        };\n    }\n\n    addOpObj(obj) {\n        this.opobj.push(obj);\n    }\n\n    onOpen(event) {\n        console.log(\"Connect successful!\");\n        this.sendinterval = setInterval(this.sendOperation, 100);\n    }\n\n    onMessage(event) {\n        let sensorarray = event.data.split(\",\").map(x => parseInt(x, 10));\n        if(!this.state.swaplinesensor){\n            this.setState({\n                sensordata: {\n                    dist: sensorarray[0],\n                    left: sensorarray[1],\n                    right: sensorarray[2],\n                }\n            });\n        } else {\n            this.setState({\n                sensordata: {\n                    dist: sensorarray[0],\n                    left: sensorarray[2],\n                    right: sensorarray[1],\n                }\n            });\n        }\n    }\n\n    addComponent(node_name) {\n        const new_toppositions = Object.assign([], this.state.toppositions);\n        const new_bottompositions = Object.assign([], this.state.bottompositions);\n        new_toppositions.push([0, 0]);\n        if (node_name !== \"BranchDistSensor\" && node_name !== \"LineSensor\") {\n            new_bottompositions.push([0, 0]);\n        } else {\n            new_bottompositions.push([[0, 0], [0, 0]]);\n        }\n        this.setState({\n            toppositions: new_toppositions,\n            bottompositions: new_bottompositions,\n            graph: this.state.graph.addComponent(node_name),\n        });\n    }\n\n    _onMouseMove(e) {\n        if (this.dragComp !== -1 && this.dragComp !== undefined) {\n            this.setOpCompPosition(this.dragComp);\n        }\n        this.setState({mouseX: e.clientX, mouseY: e.clientY});\n    }\n\n    _onMouseClick(e) {\n        this.setState({isMouseDown: true});\n    }\n\n    setOpCompPosition(id) {\n        let new_toppositions = this.state.toppositions;\n        let new_bottompositions = this.state.bottompositions;\n\n        new_toppositions[id] = this.opobj[id].getTopPosition();\n        if (!this.isBranchComp(id)) {\n            new_bottompositions[id] = this.opobj[id].getBottomPosition();\n        } else {\n            new_bottompositions[id][0] = this.opobj[id].getBottomAbovePosition();\n            new_bottompositions[id][1] = this.opobj[id].getBottomBelowPosition();\n        }\n\n        this.setState({\n            toppositions: new_toppositions,\n            bottompositions: new_bottompositions,\n        });\n    }\n\n    setCompFrom(comp) {\n        console.log(\"From:\" + comp.number);\n\n        if (!this.isBranchComp(comp.number)) {\n            if(this.state.graph.edges[comp.number].length===1){\n                this.setState({\n                    graph:this.state.graph.deleteEdge(comp.number,this.state.graph.edges[comp.number][0]),\n                });\n            }\n        } else {\n            if(this.opobj[comp.number].abovedstnode !== null && this.opobj[comp.number].selected_above){\n                this.setState({\n                    graph: this.state.graph.deleteEdge(comp.number, this.opobj[comp.number].abovedstnode),\n                });\n                this.opobj[comp.number].abovedstnode = null;\n            } else if (this.opobj[comp.number].belowdstnode !== null && !this.opobj[comp.number].selected_above){\n                this.setState({\n                    graph: this.state.graph.deleteEdge(comp.number, this.opobj[comp.number].belowdstnode),\n                });\n                this.opobj[comp.number].belowdstnode = null;\n            }\n        }\n\n        this.setOpCompPosition(comp.number);\n\n        this.setState({\n            clickFrom: comp.number,\n            isMouseDown: true,\n        });\n    }\n\n\n    setCompTo(comp) {\n        console.log(\"From:\" + this.state.clickFrom);\n        console.log(\"To:\" + comp.number);\n        if (this.state.clickFrom === -1 || comp.number === this.state.clickFrom) {\n            this.setState({\n                isMouseDown: false,\n            });\n        } else {\n            if ((!this.isBranchComp(this.state.clickFrom) && this.state.graph.edges[this.state.clickFrom].length === 0) ||\n                ( this.isBranchComp(this.state.clickFrom) && this.state.graph.edges[this.state.clickFrom].length <= 1)) {\n                if (this.isBranchComp(this.state.clickFrom)) {\n                    this.opobj[this.state.clickFrom].setBranch(comp.number);\n                }\n                this.setOpCompPosition(comp.number);\n\n                this.setState({\n                    clickTo: comp.number,\n                    isMouseDown: false,\n                    graph: this.state.graph.addEdge(this.state.clickFrom, comp.number),\n                });\n            }\n        }\n    }\n\n    runProgram() {\n        if (!this.state.graph.checkConnectStartToEnd()) {\n            console.log(\"disconnected\");\n            alert(\"繋がっていないパーツがあるよ\");\n            return false;\n        }\n        this.interval = setInterval(this.stepProgram, 10);\n        console.log(\"connected\");\n        this.setState({\n            isrunning: true,\n        });\n        return true;\n    }\n\n    sendOperation() {\n        let leftstate = this.state.carstate.left;\n        let rightstate = this.state.carstate.right;\n        if ( leftstate.power === 0 && rightstate.power === 0) {\n            this.connection.send(\"s\");\n            console.log(\"s\");\n        } else {\n            let left_speed = this.state.pwm.left[leftstate.power];\n            if(!leftstate.forward) left_speed = -left_speed;\n\n            let right_speed = this.state.pwm.right[rightstate.power];\n            if(!rightstate.forward) right_speed = -right_speed;\n\n            this.connection.send(\"r\" + (-right_speed).toString());\n            this.connection.send(\"l\" + (-left_speed).toString());\n        }\n    }\n\n    stepProgram() {\n        console.log(\"step\");\n        const currentnode = this.state.currentnode;\n        const nextedge = this.state.graph.edges[currentnode];\n        let nextnode = null;\n        const attr = this.state.graph.attributes[currentnode];\n        let carstate = this.state.carstate;\n\n        switch (this.state.graph.nodes[currentnode]) {\n            case \"Start\":\n                nextnode = nextedge[0];\n                break;\n            case \"End\":\n                nextnode = 0;\n                carstate.left.power = 0;\n                carstate.right.power = 0;\n                console.log(\"Program Terminated\");\n                clearInterval(this.interval);\n                this.setState({\n                    isrunning: false,\n                });\n                break;\n            case \"Wheel\":\n                let wheel = parseInt(attr.wheel, 10);\n                let direction = parseInt(attr.direction, 10);\n                let power = parseInt(attr.power, 10);\n                let dir_power = {\n                    forward: (direction === 0),\n                    power: power,\n                };\n                if (wheel === 0) { // 左\n                    carstate.left = dir_power;\n                } else {\n                    carstate.right = dir_power;\n                }\n                nextnode = nextedge[0];\n                console.log(\"Wheel:\"+power);\n                break;\n            case \"Waitmsecs\":\n                if (this.state.timercount * 10 > attr.time) {\n                    nextnode = nextedge[0];\n                    this.setState({\n                        timercount: 0,\n                    });\n                } else {\n                    nextnode = currentnode;\n                    this.setState({\n                        timercount: this.state.timercount + 1,\n                    });\n                }\n                break;\n            case \"BranchDistSensor\":\n                let dist = parseInt(attr.dist, 10);\n                if (dist > this.state.sensordata.dist) {\n                    nextnode = this.opobj[currentnode].belowdstnode;\n                } else {\n                    nextnode = this.opobj[currentnode].abovedstnode;\n                }\n                break;\n            case \"LineSensor\":\n                let isright = attr.isright;\n                console.log(isright);\n                if(isright){\n                    if (this.state.sensordata.right > this.state.linesensor_threshold) {\n                        nextnode = this.opobj[currentnode].belowdstnode;\n                    } else {\n                        nextnode = this.opobj[currentnode].abovedstnode;\n                    }\n                } else {\n                    if (this.state.sensordata.left > this.state.linesensor_threshold) {\n                        nextnode = this.opobj[currentnode].belowdstnode;\n                    } else {\n                        nextnode = this.opobj[currentnode].abovedstnode;\n                    }\n                }\n                break;\n            case \"Readability\":\n                nextnode = nextedge[0];\n                console.log(\"fuga\");\n                break;\n            case \"Stop\":\n                carstate.left.power = 0;\n                carstate.right.power = 0;\n                nextnode = nextedge[0];\n                break;\n            default:\n        }\n\n        this.setState({\n            currentnode: nextnode,\n            carstate: carstate,\n        });\n    }\n\n    onStartDrag(obj) {\n        this.dragComp = obj.number;\n        console.log(\"start drag:\" + obj.number);\n    }\n\n    isBranchComp(id){\n        return (this.state.graph.nodes[id] === \"BranchDistSensor\" || this.state.graph.nodes[id] === \"LineSensor\");\n    }\n\n    onStopDrag(obj) {\n        let rect = ReactDOM.findDOMNode(obj).getBoundingClientRect();\n        let rect_trash = ReactDOM.findDOMNode(this.refs.trashbox).getBoundingClientRect();\n        let compX = rect.x + rect.width / 2;\n        let compY = rect.y + rect.height / 2;\n        let deletelist = [];\n        let new_graph = this.state.graph;\n        if(rect_trash.x <= compX && compX < rect_trash.x+rect_trash.width &&\n           rect_trash.y <= compY && compY < rect_trash.y+rect_trash.height){\n               let node_from = 0;\n               for(let edge of this.state.graph.edges){\n                   for(let node_to of edge){\n                       if(node_to === obj.number){\n                           if(this.isBranchComp(node_from)){\n                               if(this.opobj[node_from].abovedstnode === node_to){\n                                this.opobj[node_from].abovedstnode = null;\n                               } else if(this.opobj[node_from].belowdstnode === node_to){\n                                this.opobj[node_from].belowdstnode = null;\n                               }\n                           }\n                           deletelist.push([node_from, node_to]);\n                       } else if(node_from === obj.number){\n                           deletelist.push([node_from, node_to]);\n                       }\n                   }\n                   node_from++;\n               }\n               this.opobj[obj.number].disable();\n               this.setState({\n                   graph: new_graph.deleteEdges(deletelist),\n               });\n        }\n        this.dragComp = -1;\n    }\n\n    stopProgram() {\n        clearInterval(this.interval);\n        this.setState({\n            timercount: 0,\n            carstate: {\n                left: {\n                    forward: true,\n                    power: 0,\n                },\n                right: {\n                    forward: true,\n                    power: 0,\n                }\n            },\n            currentnode: 0,\n            isrunning: false,\n        });\n    }\n\n    setOpComponentAttribute(id, attr) {\n        const new_graph = this.state.graph.setAttribute(id, attr);\n        this.setState({\n            graph: new_graph,\n        });\n    }\n\n    renderOpComponents() {\n        return this.state.graph.nodes.map((node_name, index) => {\n            let running = (this.state.currentnode === index);\n            switch (node_name) {\n                case \"Start\":\n                    return (<Start key={index} number={index} running={running} funcs={this.funcs}/>);\n                case \"End\":\n                    return (<End key={index} number={index} running={running} funcs={this.funcs}/>);\n                case \"Wheel\":\n                    return (<Wheel key={index} number={index} running={running} funcs={this.funcs}/>);\n                case \"Waitmsecs\":\n                    return (<Waitmsecs key={index} number={index} running={running} funcs={this.funcs}/>);\n                case \"BranchDistSensor\":\n                    return (<BranchDistSensor key={index} number={index} running={running} funcs={this.funcs}/>);\n                case \"LineSensor\":\n                    return (<LineSensor key={index} number={index} running={running} funcs={this.funcs}/>);\n                case \"Stop\":\n                    return (<Stop key={index} number={index} running={running} funcs={this.funcs}/>);\n                case \"Readability\":\n                    return (<Readability key={index} number={index} running={running} funcs={this.funcs}/>);\n                default:\n                    return (<div>Error</div>);\n            }\n        });\n    }\n\n    renderEdges() {\n        // 接続された部品間の線を描画する際の処理\n        return this.state.graph.edges.map((nodes, node_from) => {\n            return (\n                nodes.map((node_to, index) => {\n                    let pos1 = [0, 0];\n                    if (this.state.graph.nodes[node_from] !== \"BranchDistSensor\" && this.state.graph.nodes[node_from] !== \"LineSensor\") {\n                        pos1 = this.state.bottompositions[node_from];\n                    } else {\n                        if (node_to === this.opobj[node_from].abovedstnode) {\n                            pos1 = this.state.bottompositions[node_from][0];\n                        } else {\n                            pos1 = this.state.bottompositions[node_from][1];\n                        }\n                    }\n\n                    let pos2 = [0, 0];\n                    pos2 = this.state.toppositions[node_to];\n                    return (\n                        <Line key={this.nodes_num * node_from + index} x1={pos1[0]} y1={pos1[1]} id1={node_from}\n                              x2={pos2[0]} y2={pos2[1]}\n                              id2={node_to} thickness={1} color=\"black\" />\n                    );\n                }));\n        });\n    }\n\n    setPWMLeftValue(idx,e) {\n        let left = this.state.pwm.left.slice();\n        console.log(idx);\n        left[idx] = e.target.value;\n        this.setState({\n            pwm : {\n                left : left,\n                right : this.state.pwm.right,\n            }\n        });\n    }\n    setPWMRightValue(idx,e) {\n        let right = this.state.pwm.right.slice();\n        right[idx] = e.target.value;\n        this.setState({\n            pwm : {\n                left : this.state.pwm.left,\n                right : right,\n            }\n        });\n    }\n\n    swapLineSensor(e){\n        console.log(e.checked);\n        this.setState({\n            swaplinesensor: e.checked,\n        });\n    }\n\n    renderDebugWindow() {\n        const {mouseX, mouseY, currentnode, timercount} = this.state;\n        const isMouseDown = this.state.isMouseDown.toString();\n        const distsensordata = this.state.sensordata.dist;\n        const leftsensordata = this.state.sensordata.left;\n        const rightsensordata = this.state.sensordata.right;\n        const leftspeed = this.state.pwm.left[this.state.carstate.left.power];\n        const rightspeed = this.state.pwm.right[this.state.carstate.right.power];\n        const opobj = this.opobj;\n\n        return (\n            <div>\n                Debug Information\n\n                <div>タイヤ右\n                    <div>弱<input value={this.state.pwm.right[1]} onChange={this.setPWMRightValue.bind(this,1)} /></div>\n                    <div>中<input value={this.state.pwm.right[2]} onChange={this.setPWMRightValue.bind(this,2)} /></div>\n                    <div>強<input value={this.state.pwm.right[3]} onChange={this.setPWMRightValue.bind(this,3)} /></div>\n                </div>\n\n                <div>タイヤ左\n                    <div>弱<input value={this.state.pwm.left[1]} onChange={this.setPWMLeftValue.bind(this,1)} /></div>\n                    <div>中<input value={this.state.pwm.left[2]} onChange={this.setPWMLeftValue.bind(this,2)} /></div>\n                    <div>強<input value={this.state.pwm.left[3]} onChange={this.setPWMLeftValue.bind(this,3)} /></div>\n                </div>\n\n                <div>光センサ\n                    <div>しきい値<input value={this.state.linesensor_threshold} onChange={(e)=>{this.setState({\n                        linesensor_threshold: e.target.value,\n                    })}} /></div>\n                    <div>左右入れ替え<input type=\"checkbox\" checked={this.state.swaplinesensor} onChange={this.swapLineSensor.bind(this)} /></div>\n                </div>\n                <div>{mouseX} {mouseY} {isMouseDown}</div>\n                <div>currentnode: {currentnode}</div>\n                <div>distsensordata: {distsensordata}</div>\n                <div>leftsensordata: {leftsensordata}</div>\n                <div>rightsensordata: {rightsensordata}</div>\n                <div>pwmleft:{this.state.pwm.left}</div>\n                <div>pwmright:{this.state.pwm.right}</div>\n                <div>threshold:{this.state.linesensor_threshold}</div>\n                <div>swapLineSensor:{this.state.swaplinesensor}</div>\n                <div>leftspeed: {leftspeed}</div>\n                <div>rightspeed: {rightspeed}</div>\n                <div>timercount: {timercount}</div>\n                <div>opobj: {opobj.toString()}</div>\n                <div>toppositions: {this.state.toppositions.toString()}</div>\n                <div>bottompositions: {this.state.bottompositions.toString()}</div>\n                <div className=\"NodesInfo\">\n                    Nodes Information\n                    <ol start=\"0\">\n                        {this.state.graph.nodes.map((node, index) => <li\n                            key={index}>{node}:{JSON.stringify(this.state.graph.attributes[index], null, '\\t')}</li>)}\n                    </ol>\n                </div>\n                <div className=\"EdgesInfo\">\n                    Edges Information\n                    <ol start=\"0\">\n                        {this.state.graph.edges.map((edges, index) => <li key={index}>{edges}</li>)}\n                    </ol>\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        const style = {\n            top: 10,\n            width: \"95vw\",\n            height: \"85vh\",\n            position: \"static\",\n            background: \"#f0f0f0\",\n            border: \"solid\",\n            padding: \"10 16px\",\n            margin: \"0 auto\"\n        };\n\n        let selectedcomppos = [0, 0];\n        if (this.state.clickFrom !== -1 && this.state.clickFrom !== undefined) {\n            if (this.state.graph.nodes[this.state.clickFrom] !== \"BranchDistSensor\" &&\n                this.state.graph.nodes[this.state.clickFrom] !== \"LineSensor\" ) {\n                selectedcomppos = this.state.bottompositions[this.state.clickFrom];\n            } else {\n                if (this.opobj[this.state.clickFrom].selected_above) {\n                    selectedcomppos = this.state.bottompositions[this.state.clickFrom][0];\n                } else {\n                    selectedcomppos = this.state.bottompositions[this.state.clickFrom][1];\n                }\n            }\n        }\n\n        const {mouseX, mouseY} = this.state;\n\n        return (\n            <div>\n                <Panel onMouseMove={this._onMouseMove.bind(this)} onMouseUp={() => {\n                    this.setState({isMouseDown: false})\n                }} style={style}>\n                    <div style={{textAlign: \"right\"}}>\n                        <Button color=\"primary\" onClick={() => {\n                            this.addComponent(\"Wheel\");\n                        }}>車を動かす\n                        </Button>\n                        <Button color=\"primary\" onClick={() => {\n                            this.addComponent(\"Waitmsecs\");\n                        }}>待つ\n                        </Button>\n                        <Button color=\"primary\" onClick={() => {\n                            this.addComponent(\"BranchDistSensor\");\n                        }}>距離を測る\n                        </Button>\n                        <Button color=\"primary\" onClick={() => {\n                            this.addComponent(\"LineSensor\");\n                        }}>明るさを測る\n                        </Button>\n                        <Button color=\"primary\" onClick={() => {\n                            this.addComponent(\"Stop\");\n                        }}>車を止める\n                        </Button>\n                        <Button color=\"primary\" onClick={() => {\n                            this.addComponent(\"Readability\");\n                        }}>見やすくする\n                        </Button>\n                    </div>\n                    {this.renderEdges()}\n                    {(() => {\n                        if (this.state.isMouseDown) {\n                            return (<Line x1={selectedcomppos[0]} y1={selectedcomppos[1]} id1={-1} x2={mouseX}\n                                y2={mouseY} id2={-1} thickness={1} color=\"black\" />);\n                        }\n                    })()}\n                    {this.renderOpComponents()}\n                    <TrashBox ref='trashbox'/>\n                </Panel>\n                <div style={{textAlign: \"right\"}}>\n                    <Button color=\"primary\" variant=\"fab\" onClick={this.runProgram.bind(this)} disabled={this.state.isrunning}>実行</Button>\n                    <Button color=\"danger\" variant=\"fab\" onClick={this.stopProgram.bind(this)}>やめる</Button>\n                    <Button color=\"accent\" variant=\"fab\" onClick={() => {\n                        this.connection = new WebSocket(\"ws:127.0.0.1:8000\");\n                    }}>再接続\n                    </Button>\n                </div>\n                <div>{this.renderDebugWindow()}</div>\n            </div>\n        );\n    }\n}\n\nReactDOM.render(<App/>, document.getElementById('root'));"],"sourceRoot":""}